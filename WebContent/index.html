<!DOCTYPE html>
<html>
<head>
    <title>User signup</title>
    <link rel="stylesheet" href="style4.css">
</head>
<body>
    
    <header>
        <p id="mainheading">Sign UP</p>
        <a style="color: white;" href="https://www.appliedpaymentstech.com/"
        target="_blank">Home</a>
    </header>

    <section>
    <main style="background-color:rgb(217,204,183)">
        <form id="userInformation" method="post" action="signup">
            <br>
            <label for="firstname">First Name:</label>
            <input type="text" id="firstname" name="firstname" placeholder="John" required>
            <br><br>
            <label for="lastname">Last Name:</label>
            <input type="text" id="lastname" name="lastname" placeholder="Appleseed" required >
            <br><br>
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" placeholder="abc@abc.com" required>
            <br><br>
            <label for="dob">Date of Birth</label>
            <input type="date" id="dob" required><br><br>
            <label for="gender">Gender:</label>
                <select id="gender" name="gender">
                    <option value="male">Male</option>
                    <option value="female" >Female</option>
                </select><br><br>
            <label for="phone">Phone No:</label>
            <input type="tel" id="phone" pattern="[0-9]{10}" placeholder="124567890" required><br><br>
            <label for="newuser">Create a username</label>
            <input type="text" id="newuser" placeholder="johnapple92" required><br><br>
            <label for="newpass">Create a password</label>
            <input type="password" id="password" placeholder=" atleast 6 characters" minlength="6" required><br><br>
            <br>
            <input type="submit" id="SUBMIT" >
            <br>
        </form>
    </main>
    </section>
    <footer>
        Author:Rohit S
        &copy All rights reserved<br>
        <small><a href="mailto:abc.xyz@gmail.com">Email</a></small>
    </footer>
    <script type="module">  // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
        import { getDatabase,ref,set,get,child } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-database.js";
      
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyCSgD--k433-Qo3xeEoi-kiNBwAgZbH6UE",
          authDomain: "formdata-1ac00.firebaseapp.com",
          projectId: "formdata-1ac00",
          storageBucket: "formdata-1ac00.appspot.com",
          messagingSenderId: "490688857851",
          appId: "1:490688857851:web:ed9c0493989f209bb1125e"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db=getDatabase(app);
        document.getElementById("SUBMIT").addEventListener('click',function(e){
            e.preventDefault();
          set(ref(db,'user/'+document.getElementById("newuser").value),
          {
              username: document.getElementById("newuser").value,
              FirstName: document.getElementById("firstname").value,
              LastName: document.getElementById("lastname").value,
              Email: document.getElementById("email").value,
              Phone: document.getElementById("phone").value,
              DateOfBirth: document.getElementById("dob").value,
              Gender: document.getElementById("gender").value,
              Password: document.getElementById("password").value,
          })
              alert("SignUp successful");
        })</script>
        <script> //age validation
            document.addEventListener('DOMContentLoaded', function() {
            var today = new Date();
            var year = today.getFullYear() - 18;
            var month = (today.getMonth() + 1).toString().padStart(2, '0');
            var day = today.getDate().toString().padStart(2, '0');
            var maxDate = year + '-' + month + '-' + day;
            document.getElementById('dob').setAttribute('max', maxDate);
            });
        </script>
</body>
</html>